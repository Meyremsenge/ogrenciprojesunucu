import{j as e}from"./query-CZD0ZRD-.js";import{r as c}from"./vendor-izpyVFLd.js";import{B as r,C as d,h as m,I as N,c as o}from"./index-CJixA8aD.js";import{B as v}from"./Badge-CA9YTxat.js";import{R as w,af as g,k as S,m as u,q as A,r as k,U as I,f as b,S as D,as as T,bc as C}from"./ui-CAO-iScS.js";import"./charts-Db6Lds24.js";const E=[{id:"1",userId:"u1",userName:"Ahmet Yılmaz",userEmail:"ahmet@example.com",action:"Giriş yaptı",actionType:"auth",resource:"auth",ipAddress:"192.168.1.100",userAgent:"Chrome 120 / Windows",timestamp:new Date().toISOString(),severity:"info"},{id:"2",userId:"u2",userName:"Mehmet Admin",userEmail:"admin@example.com",action:"Kullanıcı oluşturdu",actionType:"crud",resource:"users",resourceId:"u5",ipAddress:"192.168.1.50",userAgent:"Firefox 121 / MacOS",timestamp:new Date(Date.now()-36e5).toISOString(),severity:"info"},{id:"3",userId:"u3",userName:"Zeynep Kaya",userEmail:"zeynep@example.com",action:"Şifre değiştirdi",actionType:"security",resource:"password",ipAddress:"10.0.0.15",userAgent:"Safari 17 / iOS",timestamp:new Date(Date.now()-72e5).toISOString(),severity:"warning"},{id:"4",userId:"u2",userName:"Mehmet Admin",userEmail:"admin@example.com",action:"Sistem ayarlarını güncelledi",actionType:"system",resource:"settings",ipAddress:"192.168.1.50",userAgent:"Firefox 121 / MacOS",timestamp:new Date(Date.now()-108e5).toISOString(),severity:"warning"},{id:"5",userId:"unknown",userName:"Bilinmeyen",userEmail:"unknown",action:"Başarısız giriş denemesi (5 kez)",actionType:"security",resource:"auth",ipAddress:"45.33.22.11",userAgent:"Unknown",timestamp:new Date(Date.now()-144e5).toISOString(),severity:"critical"}],O=[{key:"all",label:"Tümü"},{key:"auth",label:"Kimlik Doğrulama"},{key:"crud",label:"CRUD İşlemleri"},{key:"system",label:"Sistem"},{key:"security",label:"Güvenlik"}];function P(){const[t,x]=c.useState(""),[n,h]=c.useState("all"),[a,p]=c.useState(null),l=E.filter(s=>{const i=s.userName.toLowerCase().includes(t.toLowerCase())||s.action.toLowerCase().includes(t.toLowerCase())||s.ipAddress.includes(t),f=n==="all"||s.actionType===n;return i&&f}),y=s=>{switch(s){case"auth":return e.jsx(C,{className:"h-4 w-4"});case"crud":return e.jsx(T,{className:"h-4 w-4"});case"system":return e.jsx(D,{className:"h-4 w-4"});case"security":return e.jsx(b,{className:"h-4 w-4"});default:return e.jsx(I,{className:"h-4 w-4"})}},j=s=>new Date(s).toLocaleString("tr-TR");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Denetim Logları"}),e.jsx("p",{className:"text-muted-foreground",children:"Sistem aktivitelerini izleyin ve denetleyin"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(r,{variant:"outline",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Yenile"]}),e.jsxs(r,{variant:"outline",children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Dışa Aktar"]})]})]}),e.jsx(d,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(N,{placeholder:"Kullanıcı, işlem veya IP ara...",value:t,onChange:s=>x(s.target.value),className:"pl-9"})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:O.map(s=>e.jsx(r,{variant:n===s.key?"default":"outline",size:"sm",onClick:()=>h(s.key),children:s.label},s.key))})]})})}),e.jsx("div",{className:"space-y-3",children:l.map((s,i)=>e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.05},children:e.jsx(d,{className:o("cursor-pointer hover:shadow-md transition-all",(a==null?void 0:a.id)===s.id&&"ring-2 ring-primary"),onClick:()=>p((a==null?void 0:a.id)===s.id?null:s),children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:o("p-2 rounded-lg",s.severity==="info"&&"bg-blue-100 text-blue-600",s.severity==="warning"&&"bg-yellow-100 text-yellow-600",s.severity==="critical"&&"bg-red-100 text-red-600"),children:y(s.actionType)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-medium",children:s.userName}),e.jsx("span",{className:"text-muted-foreground",children:"•"}),e.jsx("span",{className:"text-muted-foreground text-sm",children:s.action}),e.jsx(v,{variant:s.severity==="critical"?"destructive":s.severity==="warning"?"warning":"secondary",className:"text-xs",children:s.actionType==="auth"?"Kimlik":s.actionType==="crud"?"CRUD":s.actionType==="system"?"Sistem":"Güvenlik"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:j(s.timestamp)}),e.jsxs("span",{children:["IP: ",s.ipAddress]})]})]}),e.jsx(r,{variant:"ghost",size:"icon-sm",children:e.jsx(A,{className:"h-4 w-4"})})]}),(a==null?void 0:a.id)===s.id&&e.jsx(u.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t space-y-2",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"E-posta:"}),e.jsx("span",{className:"ml-2 font-mono",children:s.userEmail})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Kaynak:"}),e.jsx("span",{className:"ml-2 font-mono",children:s.resource}),s.resourceId&&e.jsxs("span",{className:"ml-1",children:["(",s.resourceId,")"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"User Agent:"}),e.jsx("span",{className:"ml-2",children:s.userAgent})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"IP Adresi:"}),e.jsx("span",{className:"ml-2 font-mono",children:s.ipAddress})]})]})})]})})},s.id))}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(k,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Eşleşen log bulunamadı"})]})]})}export{P as default};
