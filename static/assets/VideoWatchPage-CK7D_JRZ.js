import{j as e}from"./query-CZD0ZRD-.js";import{r as n,f as q,c as J,b as Q}from"./vendor-izpyVFLd.js";import{c as C,B as x,P as K,T as _,b as ee,d as M,e as R,A as se}from"./index-D2ID2HJ6.js";import{m as U,a0 as G,aA as te,aB as ae,aC as ie,aD as ne,aE as le,S as re,aF as oe,aG as de,Q as ce,X as me,ap as ue,g as xe,aH as he,aI as fe,az as pe,a1 as je,s as ve}from"./ui-CGOJK0BY.js";import{B as ge}from"./Badge-D9ELTbf4.js";import"./charts-Db6Lds24.js";function be({src:S,poster:L,title:N,onProgress:o,onComplete:d,startTime:w=0,className:B}){const c=n.useRef(null),p=n.useRef(null),[h,v]=n.useState(!1),[j,f]=n.useState(!1),[l,k]=n.useState(!1),[m,y]=n.useState(0),[u,g]=n.useState(0),[E,P]=n.useState(1),[T,t]=n.useState(!0),[b,D]=n.useState(!1);n.useEffect(()=>{const s=c.current;if(!s)return;const i=()=>{g(s.duration),w>0&&(s.currentTime=w)},a=()=>{y(s.currentTime);const Z=s.currentTime/s.duration*100;o==null||o(Z)},V=()=>{v(!1),d==null||d()},H=()=>D(!0),$=()=>D(!1);return s.addEventListener("loadedmetadata",i),s.addEventListener("timeupdate",a),s.addEventListener("ended",V),s.addEventListener("waiting",H),s.addEventListener("playing",$),()=>{s.removeEventListener("loadedmetadata",i),s.removeEventListener("timeupdate",a),s.removeEventListener("ended",V),s.removeEventListener("waiting",H),s.removeEventListener("playing",$)}},[o,d,w]),n.useEffect(()=>{let s;const i=()=>{t(!0),clearTimeout(s),h&&(s=setTimeout(()=>t(!1),3e3))},a=p.current;return a==null||a.addEventListener("mousemove",i),()=>{a==null||a.removeEventListener("mousemove",i),clearTimeout(s)}},[h]);const z=()=>{const s=c.current;s&&(h?s.pause():s.play(),v(!h))},W=()=>{const s=c.current;s&&(s.muted=!j,f(!j))},X=s=>{const i=c.current;if(!i)return;const a=parseFloat(s.target.value);i.volume=a,P(a),f(a===0)},Y=s=>{const i=c.current;if(!i)return;const a=parseFloat(s.target.value);i.currentTime=a,y(a)},I=s=>{const i=c.current;i&&(i.currentTime=Math.max(0,Math.min(u,i.currentTime+s)))},O=async()=>{const s=p.current;s&&(l?await document.exitFullscreen():await s.requestFullscreen(),k(!l))},F=s=>{const i=Math.floor(s/60),a=Math.floor(s%60);return`${i}:${a.toString().padStart(2,"0")}`},A=u>0?m/u*100:0;return e.jsxs("div",{ref:p,className:C("relative bg-black rounded-xl overflow-hidden group",l&&"fixed inset-0 z-50 rounded-none",B),children:[e.jsx("video",{ref:c,src:S,poster:L,className:"w-full h-full object-contain",onClick:z,playsInline:!0}),b&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:e.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-white border-t-transparent"})}),!h&&!b&&e.jsx(U.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"absolute inset-0 flex items-center justify-center",onClick:z,children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-white/90 flex items-center justify-center shadow-lg hover:bg-white transition-colors",children:e.jsx(G,{className:"h-8 w-8 text-black ml-1"})})}),e.jsxs(U.div,{initial:!1,animate:{opacity:T?1:0},className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"range",min:0,max:u,value:m,onChange:Y,className:"w-full h-1.5 bg-white/30 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full",style:{background:`linear-gradient(to right, #fff ${A}%, rgba(255,255,255,0.3) ${A}%)`}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:z,className:"text-white hover:text-primary transition-colors",children:h?e.jsx(te,{className:"h-6 w-6"}):e.jsx(G,{className:"h-6 w-6"})}),e.jsx("button",{onClick:()=>I(-10),className:"text-white/70 hover:text-white transition-colors",children:e.jsx(ae,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>I(10),className:"text-white/70 hover:text-white transition-colors",children:e.jsx(ie,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:W,className:"text-white/70 hover:text-white transition-colors",children:j||E===0?e.jsx(ne,{className:"h-5 w-5"}):e.jsx(le,{className:"h-5 w-5"})}),e.jsx("input",{type:"range",min:0,max:1,step:.1,value:j?0:E,onChange:X,className:"w-20 h-1 bg-white/30 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full"})]}),e.jsxs("span",{className:"text-white/70 text-sm",children:[F(m)," / ",F(u)]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[N&&e.jsx("span",{className:"text-white/70 text-sm truncate max-w-xs",children:N}),e.jsx("button",{className:"text-white/70 hover:text-white transition-colors",children:e.jsx(re,{className:"h-5 w-5"})}),e.jsx("button",{onClick:O,className:"text-white/70 hover:text-white transition-colors",children:l?e.jsx(oe,{className:"h-5 w-5"}):e.jsx(de,{className:"h-5 w-5"})})]})]})]})]})}const r={title:"React ile Modern Web GeliÅŸtirme",lessons:[{id:"1",title:"React'a GiriÅŸ",duration:"15 dk",videoUrl:"",isCompleted:!0},{id:"2",title:"JSX ve Componentler",duration:"25 dk",videoUrl:"",isCompleted:!0},{id:"3",title:"Props ve State",duration:"30 dk",videoUrl:"",isCompleted:!0},{id:"4",title:"Event Handling",duration:"20 dk",videoUrl:"",isCompleted:!0},{id:"5",title:"React Hooks - useState",duration:"35 dk",videoUrl:"",isCompleted:!1},{id:"6",title:"React Hooks - useEffect",duration:"40 dk",videoUrl:"",isCompleted:!1},{id:"7",title:"Custom Hooks",duration:"45 dk",videoUrl:"",isCompleted:!1},{id:"8",title:"Context API",duration:"50 dk",videoUrl:"",isCompleted:!1},{id:"9",title:"Redux Toolkit",duration:"60 dk",videoUrl:"",isCompleted:!1},{id:"10",title:"Final Projesi",duration:"120 dk",videoUrl:"",isCompleted:!1}]};function Ee(){const{id:S}=q(),[L]=J(),N=Q(),o=L.get("lesson")||r.lessons[0].id,[d,w]=n.useState(!0),[B,c]=n.useState(0),[p,h]=n.useState([]),[v,j]=n.useState(""),f=r.lessons.findIndex(t=>t.id===o),l=r.lessons[f],k=f>0?r.lessons[f-1]:null,m=f<r.lessons.length-1?r.lessons[f+1]:null,y=r.lessons.filter(t=>t.isCompleted).length,u=y/r.lessons.length*100,g=t=>{N(`/contents/${S}/watch?lesson=${t}`)},E=t=>{c(t),t>=90&&!l.isCompleted&&console.log("Lesson completed!")},P=()=>{m&&setTimeout(()=>{g(m.id)},2e3)},T=()=>{v.trim()&&(h([...p,{id:Date.now().toString(),timestamp:0,content:v,createdAt:new Date().toISOString()}]),j(""))};return e.jsxs("div",{className:"fixed inset-0 bg-background z-50 flex flex-col",children:[e.jsxs("header",{className:"h-14 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>N(`/contents/${S}`),children:e.jsx(ce,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:r.title}),e.jsx("p",{className:"font-medium",children:l==null?void 0:l.title})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx(K,{value:u,className:"w-32"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(u),"%"]})]}),e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>w(!d),children:d?e.jsx(me,{className:"h-5 w-5"}):e.jsx(ue,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:C("flex-1 flex flex-col",d&&"lg:mr-80"),children:[e.jsx("div",{className:"flex-1 bg-black flex items-center justify-center",children:e.jsx("div",{className:"w-full max-w-5xl aspect-video",children:e.jsx(be,{src:(l==null?void 0:l.videoUrl)||"",title:l==null?void 0:l.title,onProgress:E,onComplete:P,className:"w-full h-full"})})}),e.jsxs("div",{className:"p-4 border-t bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(x,{variant:"outline",disabled:!k,onClick:()=>k&&g(k.id),children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Ã–nceki"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(x,{variant:"ghost",size:"sm",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"BeÄŸen"]}),e.jsxs(x,{variant:"ghost",size:"sm",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Kaydet"]}),e.jsxs(x,{variant:"ghost",size:"sm",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"PaylaÅŸ"]})]}),e.jsxs(x,{disabled:!m,onClick:()=>m&&g(m.id),children:["Sonraki",e.jsx(je,{className:"h-4 w-4 ml-2"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(_,{defaultValue:"notes",children:[e.jsxs(ee,{children:[e.jsx(M,{value:"notes",children:"NotlarÄ±m"}),e.jsx(M,{value:"comments",children:"Yorumlar"}),e.jsx(M,{value:"resources",children:"Kaynaklar"})]}),e.jsx(R,{value:"notes",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Bu ders hakkÄ±nda not ekle...",value:v,onChange:t=>j(t.target.value),onKeyDown:t=>t.key==="Enter"&&T(),className:"flex-1 px-3 py-2 rounded-lg border bg-background text-sm"}),e.jsx(x,{onClick:T,children:"Ekle"})]}),p.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"HenÃ¼z not eklemediniz"}):e.jsx("div",{className:"space-y-2",children:p.map(t=>e.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[e.jsx("p",{className:"text-sm",children:t.content}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(t.createdAt).toLocaleString("tr-TR")})]},t.id))})]})}),e.jsx(R,{value:"comments",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Yorum yaz...",className:"flex-1 px-3 py-2 rounded-lg border bg-background text-sm"}),e.jsx(x,{children:"GÃ¶nder"})]}),e.jsx("div",{className:"space-y-4",children:[{name:"Ali K.",comment:"Ã‡ok faydalÄ± bir ders, teÅŸekkÃ¼rler!",time:"2 saat Ã¶nce"},{name:"Zeynep Y.",comment:"useState hook Ã§ok net anlatÄ±lmÄ±ÅŸ.",time:"5 saat Ã¶nce"}].map((t,b)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx(se,{alt:t.name,size:"sm"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:t.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.time})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.comment})]})]},b))})]})}),e.jsx(R,{value:"resources",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Bu dersle ilgili kaynaklar:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-sm text-primary hover:underline",children:"ðŸ“„ Ders NotlarÄ± (PDF)"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-sm text-primary hover:underline",children:"ðŸ’» Ã–rnek Kod DosyalarÄ± (ZIP)"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-sm text-primary hover:underline",children:"ðŸ”— React Hooks DokÃ¼mantasyonu"})})]})]})})]})})]})]}),d&&e.jsxs(U.aside,{initial:{x:320},animate:{x:0},exit:{x:320},className:"fixed right-0 top-14 bottom-0 w-80 border-l bg-background overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b sticky top-0 bg-background",children:[e.jsx("h3",{className:"font-semibold",children:"Ders Listesi"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[y,"/",r.lessons.length," ders tamamlandÄ±"]}),e.jsx(K,{value:u,className:"mt-2",size:"sm"})]}),e.jsx("div",{className:"p-2",children:r.lessons.map((t,b)=>e.jsxs("button",{onClick:()=>g(t.id),className:C("w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors",t.id===o?"bg-primary/10 text-primary":"hover:bg-muted"),children:[e.jsx("div",{className:C("w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium flex-shrink-0",t.isCompleted?"bg-green-100 text-green-600":t.id===o?"bg-primary text-primary-foreground":"bg-muted"),children:t.isCompleted?e.jsx(ve,{className:"h-4 w-4"}):b+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:C("text-sm font-medium truncate",t.isCompleted&&"text-muted-foreground"),children:t.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.duration})]}),t.id===o&&e.jsx(ge,{variant:"secondary",className:"text-xs",children:"OynatÄ±lÄ±yor"})]},t.id))})]})]})]})}export{Ee as default};
