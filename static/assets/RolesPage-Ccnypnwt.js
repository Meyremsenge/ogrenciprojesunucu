import{j as e}from"./query-CZD0ZRD-.js";import{r as c}from"./vendor-izpyVFLd.js";import{c as i}from"./index-CJixA8aD.js";import{a6 as h,m as o,f as l,c as y,as as b,at as j,i as g,a2 as f,Q as k,X as N}from"./ui-CAO-iScS.js";import"./charts-Db6Lds24.js";const v=[{id:1,name:"Super Admin",key:"super_admin",description:"Tüm sistem yetkilerine sahip en üst düzey yönetici",userCount:2,color:"purple",isSystem:!0,permissions:["*"]},{id:2,name:"Admin",key:"admin",description:"Kullanıcı ve içerik yönetimi yetkilerine sahip yönetici",userCount:5,color:"blue",isSystem:!0,permissions:["users:read","users:write","courses:read","courses:write","reports:read"]},{id:3,name:"Öğretmen",key:"teacher",description:"Kurs oluşturma ve öğrenci yönetimi yetkilerine sahip",userCount:25,color:"green",isSystem:!0,permissions:["courses:read","courses:write","exams:read","exams:write","students:read"]},{id:4,name:"Öğrenci",key:"student",description:"Kurs takibi ve sınav girişi yetkilerine sahip",userCount:1250,color:"gray",isSystem:!0,permissions:["courses:read","exams:take","profile:read","profile:write"]}],w=[{name:"Kullanıcı Yönetimi",key:"users",permissions:[{key:"users:read",label:"Kullanıcıları Görüntüle"},{key:"users:write",label:"Kullanıcı Oluştur/Düzenle"},{key:"users:delete",label:"Kullanıcı Sil"},{key:"users:roles",label:"Rol Ata"}]},{name:"Kurs Yönetimi",key:"courses",permissions:[{key:"courses:read",label:"Kursları Görüntüle"},{key:"courses:write",label:"Kurs Oluştur/Düzenle"},{key:"courses:delete",label:"Kurs Sil"},{key:"courses:publish",label:"Kurs Yayınla"}]},{name:"Sınav Yönetimi",key:"exams",permissions:[{key:"exams:read",label:"Sınavları Görüntüle"},{key:"exams:write",label:"Sınav Oluştur/Düzenle"},{key:"exams:take",label:"Sınava Gir"},{key:"exams:grade",label:"Sınav Değerlendir"}]},{name:"Raporlar",key:"reports",permissions:[{key:"reports:read",label:"Raporları Görüntüle"},{key:"reports:export",label:"Rapor Dışa Aktar"}]},{name:"Sistem",key:"system",permissions:[{key:"system:settings",label:"Sistem Ayarları"},{key:"system:audit",label:"Denetim Logları"},{key:"system:backup",label:"Yedekleme"}]}];function D(){const[r,u]=c.useState(null),[n,x]=c.useState(new Set(["users"])),p=s=>{x(t=>{const a=new Set(t);return a.has(s)?a.delete(s):a.add(s),a})},d=s=>{switch(s){case"purple":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"blue":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"green":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}},m=(s,t)=>s.permissions.includes("*")||s.permissions.includes(t);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Rol ve İzin Yönetimi"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Kullanıcı rollerini ve yetkilerini yönetin"})]}),e.jsxs("button",{className:i("flex items-center gap-2 px-4 py-2 rounded-lg font-medium","bg-primary text-primary-foreground hover:bg-primary/90 transition-colors"),children:[e.jsx(h,{className:"h-4 w-4"}),"Yeni Rol"]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-4",children:v.map((s,t)=>e.jsx(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.05},children:e.jsxs("button",{onClick:()=>u(s),className:i("w-full card p-4 text-left transition-all",(r==null?void 0:r.id)===s.id?"ring-2 ring-primary shadow-md":"hover:shadow-md"),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:i("w-10 h-10 rounded-lg flex items-center justify-center",d(s.color)),children:e.jsx(l,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.key})]})]}),s.isSystem&&e.jsx("span",{className:"text-xs text-muted-foreground",children:"Sistem"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 text-sm",children:[e.jsx(y,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[s.userCount," kullanıcı"]})]})]})},s.id))}),e.jsx("div",{className:"lg:col-span-2",children:r?e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:i("w-12 h-12 rounded-lg flex items-center justify-center",d(r.color)),children:e.jsx(l,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:r.name}),e.jsx("p",{className:"text-muted-foreground",children:r.description})]})]}),!r.isSystem&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-muted rounded-lg",children:e.jsx(b,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-2 hover:bg-destructive/10 text-destructive rounded-lg",children:e.jsx(j,{className:"h-4 w-4"})})]})]}),e.jsx("h3",{className:"font-semibold mb-4",children:"İzinler"}),r.permissions.includes("*")?e.jsx("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-400",children:"Bu rol tüm sistem izinlerine sahiptir (Super Admin)"})}):e.jsx("div",{className:"space-y-2",children:w.map(s=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>p(s.key),className:"w-full flex items-center justify-between p-3 hover:bg-muted/50",children:[e.jsx("span",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.permissions.filter(t=>m(r,t.key)).length,"/",s.permissions.length]}),n.has(s.key)?e.jsx(g,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})]})]}),n.has(s.key)&&e.jsx("div",{className:"px-3 pb-3 space-y-2",children:s.permissions.map(t=>{const a=m(r,t.key);return e.jsxs("div",{className:i("flex items-center justify-between p-2 rounded",a?"bg-green-50 dark:bg-green-900/20":"bg-muted/50"),children:[e.jsx("span",{className:"text-sm",children:t.label}),a?e.jsx(k,{className:"h-4 w-4 text-green-600"}):e.jsx(N,{className:"h-4 w-4 text-muted-foreground"})]},t.key)})})]},s.key))}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Bu Role Sahip Kullanıcılar"}),e.jsx("button",{className:"text-sm text-primary hover:underline",children:"Tümünü Gör"})]}),e.jsxs("div",{className:"flex -space-x-2",children:[[...Array(Math.min(r.userCount,5))].map((s,t)=>e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 border-2 border-background flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-primary",children:String.fromCharCode(65+t)})},t)),r.userCount>5&&e.jsx("div",{className:"w-8 h-8 rounded-full bg-muted border-2 border-background flex items-center justify-center",children:e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",r.userCount-5]})})]})]})]}):e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(l,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Rol Seçin"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Detayları görmek için soldaki listeden bir rol seçin"})]})})]})]})}export{D as default};
