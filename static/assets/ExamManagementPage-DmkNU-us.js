import{j as e}from"./query-CQKFQ3Lv.js";import{r as c}from"./vendor-izpyVFLd.js";import{B as r,c as g,I as u}from"./index-LWY5EKPO.js";import{Z as A,F as k,s as I,aT as O,c as _,an as Q,m as p,k as me,B as G,T as L,r as ue,a3 as F,N as xe,C as he,aX as pe,i as fe,aI as je,b as ge,am as K,A as z,aY as q,X as Y,aO as ve,aU as be}from"./ui-xp2o30bu.js";import"./charts-Db6Lds24.js";const Ne=[{id:1,title:"React Hooks Quiz",description:"useState ve useEffect konularından mini sınav",courseId:1,courseName:"React ile Modern Web",examType:"quiz",status:"published",questions:[{id:1,text:"useState hook'u ne işe yarar?",type:"multiple_choice",options:["State yönetimi","Side effects","Context","Routing"],correctAnswer:0,points:10,difficulty:"easy"},{id:2,text:"useEffect default olarak her renderda çalışır",type:"true_false",correctAnswer:"true",points:5,difficulty:"easy"},{id:3,text:'Custom hook isimleri "use" ile başlamalıdır',type:"true_false",correctAnswer:"true",points:5,difficulty:"medium"}],duration:15,passingScore:60,maxAttempts:3,shuffleQuestions:!0,shuffleOptions:!0,showResults:!0,showCorrectAnswers:!1,startDate:"2025-01-01",endDate:"2025-02-01",createdAt:"2024-12-20",totalAttempts:45,averageScore:78,passRate:82},{id:2,title:"JavaScript Temelleri - Ara Sınav",description:"Değişkenler, fonksiyonlar ve döngüler",courseId:1,courseName:"React ile Modern Web",examType:"midterm",status:"draft",questions:[{id:1,text:"let ve const arasındaki fark nedir?",type:"short_answer",points:15,difficulty:"medium"},{id:2,text:"Arrow function syntax'ını açıklayın",type:"essay",points:25,difficulty:"hard"}],duration:60,passingScore:50,maxAttempts:1,shuffleQuestions:!1,shuffleOptions:!1,showResults:!0,showCorrectAnswers:!0,createdAt:"2024-12-25",totalAttempts:0,averageScore:0,passRate:0},{id:3,title:"Node.js Final Sınavı",description:"Dönem sonu değerlendirmesi",courseId:2,courseName:"Node.js Backend",examType:"final",status:"closed",questions:[],duration:120,passingScore:60,maxAttempts:1,shuffleQuestions:!0,shuffleOptions:!0,showResults:!0,showCorrectAnswers:!0,startDate:"2024-12-15",endDate:"2024-12-20",createdAt:"2024-12-01",totalAttempts:38,averageScore:72,passRate:76}],T=[{value:"quiz",label:"Quiz",icon:k,color:"bg-blue-500"},{value:"midterm",label:"Ara Sınav",icon:G,color:"bg-purple-500"},{value:"final",label:"Final",icon:Q,color:"bg-red-500"},{value:"practice",label:"Pratik",icon:L,color:"bg-green-500"},{value:"homework",label:"Ödev",icon:k,color:"bg-amber-500"}],R=[{value:"multiple_choice",label:"Çoktan Seçmeli"},{value:"true_false",label:"Doğru/Yanlış"},{value:"short_answer",label:"Kısa Cevap"},{value:"essay",label:"Uzun Cevap"}],ye={draft:{label:"Taslak",color:"bg-gray-500",icon:O},published:{label:"Yayında",color:"bg-green-500",icon:I},closed:{label:"Kapalı",color:"bg-red-500",icon:F},archived:{label:"Arşiv",color:"bg-slate-500",icon:ue}};function Ee(){const[d,f]=c.useState(Ne),[v,H]=c.useState(""),[b,U]=c.useState("all"),[N,X]=c.useState("all"),[W,j]=c.useState(!1),[Z,y]=c.useState(!1),[S,D]=c.useState(null),[we,ke]=c.useState(null),[V,$]=c.useState(null),[l,n]=c.useState({examType:"quiz",status:"draft",duration:30,passingScore:60,maxAttempts:1,shuffleQuestions:!1,shuffleOptions:!1,showResults:!0,showCorrectAnswers:!1,questions:[]}),[i,m]=c.useState({type:"multiple_choice",points:10,difficulty:"medium",options:["","","",""]}),B=c.useMemo(()=>d.filter(s=>{var h;const a=s.title.toLowerCase().includes(v.toLowerCase())||((h=s.courseName)==null?void 0:h.toLowerCase().includes(v.toLowerCase())),t=b==="all"||s.status===b,x=N==="all"||s.examType===N;return a&&t&&x}),[d,v,b,N]),w=c.useMemo(()=>({total:d.length,published:d.filter(s=>s.status==="published").length,draft:d.filter(s=>s.status==="draft").length,totalAttempts:d.reduce((s,a)=>s+a.totalAttempts,0),avgPassRate:Math.round(d.filter(s=>s.totalAttempts>0).reduce((s,a)=>s+a.passRate,0)/Math.max(d.filter(s=>s.totalAttempts>0).length,1))}),[d]),M=()=>{D(null),n({examType:"quiz",status:"draft",duration:30,passingScore:60,maxAttempts:1,shuffleQuestions:!1,shuffleOptions:!1,showResults:!0,showCorrectAnswers:!1,questions:[]}),j(!0)},J=s=>{D(s),n(s),j(!0)},ee=()=>{if(!l.title){alert("Lütfen sınav başlığı girin");return}if(S)f(s=>s.map(a=>a.id===S.id?{...a,...l}:a));else{const s={...l,id:Date.now(),createdAt:new Date().toISOString().split("T")[0],totalAttempts:0,averageScore:0,passRate:0,questions:l.questions||[]};f(a=>[...a,s])}j(!1),D(null)},se=s=>{confirm("Bu sınavı silmek istediğinize emin misiniz?")&&f(a=>a.filter(t=>t.id!==s))},ae=s=>{const a={...s,id:Date.now(),title:`${s.title} (Kopya)`,status:"draft",createdAt:new Date().toISOString().split("T")[0],totalAttempts:0,averageScore:0,passRate:0};f(t=>[...t,a])},te=s=>{f(a=>a.map(t=>t.id===s?{...t,status:"published"}:t))},le=s=>{f(a=>a.map(t=>t.id===s?{...t,status:"closed"}:t))},ne=()=>{m({type:"multiple_choice",points:10,difficulty:"medium",options:["","","",""]}),y(!0)},re=()=>{if(!i.text){alert("Lütfen soru metnini girin");return}const s={...i,id:Date.now()};n(a=>({...a,questions:[...a.questions||[],s]})),y(!1)},ie=s=>{n(a=>({...a,questions:(a.questions||[]).filter(t=>t.id!==s)}))},ce=s=>T.find(a=>a.value===s)||T[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Sınav Yönetimi"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Sınavlarınızı oluşturun, düzenleyin ve yönetin"})]}),e.jsxs(r,{onClick:M,className:"gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"Yeni Sınav Oluştur"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[{label:"Toplam Sınav",value:w.total,icon:k,color:"text-blue-500"},{label:"Yayında",value:w.published,icon:I,color:"text-green-500"},{label:"Taslak",value:w.draft,icon:O,color:"text-amber-500"},{label:"Toplam Katılım",value:w.totalAttempts,icon:_,color:"text-purple-500"},{label:"Ort. Başarı",value:`%${w.avgPassRate}`,icon:Q,color:"text-emerald-500"}].map((s,a)=>e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"bg-card border rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:g("p-2 rounded-lg bg-muted",s.color),children:e.jsx(s.icon,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:s.value}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.label})]})]})},s.label))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(u,{value:v,onChange:s=>H(s.target.value),placeholder:"Sınav ara...",className:"pl-10"})]}),e.jsxs("select",{value:b,onChange:s=>U(s.target.value),className:"px-4 py-2 border rounded-lg bg-background",children:[e.jsx("option",{value:"all",children:"Tüm Durumlar"}),e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"published",children:"Yayında"}),e.jsx("option",{value:"closed",children:"Kapalı"}),e.jsx("option",{value:"archived",children:"Arşiv"})]}),e.jsxs("select",{value:N,onChange:s=>X(s.target.value),className:"px-4 py-2 border rounded-lg bg-background",children:[e.jsx("option",{value:"all",children:"Tüm Türler"}),T.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsx("div",{className:"space-y-4",children:B.length===0?e.jsxs("div",{className:"text-center py-12 bg-card border rounded-xl",children:[e.jsx(k,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sınav Bulunamadı"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:v||b!=="all"||N!=="all"?"Arama kriterlerine uygun sınav yok":"Henüz sınav oluşturmadınız"}),e.jsxs(r,{onClick:M,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"İlk Sınavınızı Oluşturun"]})]}):B.map((s,a)=>{const t=ce(s.examType),x=t.icon,h=ye[s.status],oe=h.icon,C=V===s.id;return e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.05},className:"bg-card border rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:g("p-3 rounded-xl",t.color,"text-white shrink-0"),children:e.jsx(x,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.title}),s.description&&e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:s.description}),s.courseName&&e.jsxs("p",{className:"text-sm text-primary mt-1",children:[e.jsx(G,{className:"h-3.5 w-3.5 inline mr-1"}),s.courseName]})]}),e.jsxs("div",{className:g("flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium text-white",h.color),children:[e.jsx(oe,{className:"h-3.5 w-3.5"}),h.label]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"h-4 w-4"}),s.questions.length," Soru"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"h-4 w-4"}),s.duration," dk"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-4 w-4"}),"Geçme: %",s.passingScore]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"h-4 w-4"}),s.totalAttempts," Katılım"]}),s.totalAttempts>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"h-4 w-4"}),"%",s.passRate," Başarı"]})]}),(s.startDate||s.endDate)&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[e.jsx(he,{className:"h-4 w-4 text-muted-foreground"}),s.startDate&&e.jsxs("span",{children:["Başlangıç: ",new Date(s.startDate).toLocaleDateString("tr-TR")]}),s.startDate&&s.endDate&&e.jsx("span",{children:"-"}),s.endDate&&e.jsxs("span",{children:["Bitiş: ",new Date(s.endDate).toLocaleDateString("tr-TR")]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4 pt-4 border-t",children:[e.jsxs(r,{size:"sm",variant:"outline",onClick:()=>$(C?null:s.id),children:[C?e.jsx(pe,{className:"h-4 w-4 mr-1"}):e.jsx(fe,{className:"h-4 w-4 mr-1"}),C?"Gizle":"Detaylar"]}),e.jsxs(r,{size:"sm",variant:"outline",onClick:()=>J(s),children:[e.jsx(O,{className:"h-4 w-4 mr-1"}),"Düzenle"]}),e.jsxs(r,{size:"sm",variant:"outline",onClick:()=>ae(s),children:[e.jsx(je,{className:"h-4 w-4 mr-1"}),"Kopyala"]}),s.status==="draft"&&e.jsxs(r,{size:"sm",variant:"default",onClick:()=>te(s.id),children:[e.jsx(I,{className:"h-4 w-4 mr-1"}),"Yayınla"]}),s.status==="published"&&e.jsxs(r,{size:"sm",variant:"outline",onClick:()=>le(s.id),children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"Kapat"]}),s.totalAttempts>0&&e.jsxs(r,{size:"sm",variant:"outline",children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),"Sonuçlar"]}),e.jsx(r,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>se(s.id),children:e.jsx(K,{className:"h-4 w-4"})})]})]}),e.jsx(z,{children:C&&e.jsx(p.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t bg-muted/30",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-medium",children:["Sorular (",s.questions.length,")"]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.shuffleQuestions&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-4 w-4"}),"Sorular karıştırılacak"]}),s.shuffleOptions&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-4 w-4"}),"Şıklar karıştırılacak"]})]})]}),s.questions.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Henüz soru eklenmemiş"}):e.jsx("div",{className:"space-y-2",children:s.questions.map((o,E)=>{var P;return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background rounded-lg",children:[e.jsxs("span",{className:"text-sm text-muted-foreground w-6",children:[E+1,"."]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm truncate",children:o.text}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs px-2 py-0.5 bg-muted rounded",children:(P=R.find(de=>de.value===o.type))==null?void 0:P.label}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[o.points," puan"]}),e.jsx("span",{className:g("text-xs px-2 py-0.5 rounded",o.difficulty==="easy"&&"bg-green-100 text-green-700",o.difficulty==="medium"&&"bg-amber-100 text-amber-700",o.difficulty==="hard"&&"bg-red-100 text-red-700"),children:o.difficulty==="easy"?"Kolay":o.difficulty==="medium"?"Orta":"Zor"})]})]})]},o.id)})}),e.jsxs("div",{className:"mt-4 pt-4 border-t grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Maks. Deneme:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.maxAttempts})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Sonuç Göster:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.showResults?"Evet":"Hayır"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Doğru Cevaplar:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.showCorrectAnswers?"Göster":"Gizle"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Toplam Puan:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.questions.reduce((o,E)=>o+E.points,0)})]})]})]})})})]},s.id)})}),e.jsx(z,{children:W&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>j(!1),children:e.jsx(p.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:s=>s.stopPropagation(),className:"bg-card rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:S?"Sınavı Düzenle":"Yeni Sınav Oluştur"}),e.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-muted rounded-lg",children:e.jsx(Y,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Sınav Türü"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:T.map(s=>{const a=s.icon;return e.jsxs("button",{type:"button",onClick:()=>n(t=>({...t,examType:s.value})),className:g("flex flex-col items-center gap-1 p-3 rounded-lg border transition-all",l.examType===s.value?"border-primary bg-primary/10":"hover:bg-muted"),children:[e.jsx("div",{className:g("p-2 rounded-lg",s.color,"text-white"),children:e.jsx(a,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-xs",children:s.label})]},s.value)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Sınav Başlığı *"}),e.jsx(u,{value:l.title||"",onChange:s=>n(a=>({...a,title:s.target.value})),placeholder:"Ör: React Hooks Quiz"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Açıklama"}),e.jsx("textarea",{value:l.description||"",onChange:s=>n(a=>({...a,description:s.target.value})),placeholder:"Sınav hakkında kısa açıklama",className:"w-full px-3 py-2 border rounded-lg bg-background resize-none h-20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"İlişkili Kurs"}),e.jsxs("select",{value:l.courseName||"",onChange:s=>n(a=>({...a,courseName:s.target.value})),className:"w-full px-3 py-2 border rounded-lg bg-background",children:[e.jsx("option",{value:"",children:"Kurs seçin (isteğe bağlı)"}),e.jsx("option",{value:"React ile Modern Web",children:"React ile Modern Web"}),e.jsx("option",{value:"Node.js Backend",children:"Node.js Backend"}),e.jsx("option",{value:"Python ile Veri Bilimi",children:"Python ile Veri Bilimi"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Süre (dakika) *"}),e.jsx(u,{type:"number",min:1,value:l.duration||30,onChange:s=>n(a=>({...a,duration:parseInt(s.target.value)}))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Geçme Notu (%)"}),e.jsx(u,{type:"number",min:0,max:100,value:l.passingScore||60,onChange:s=>n(a=>({...a,passingScore:parseInt(s.target.value)}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Maks. Deneme Hakkı"}),e.jsx(u,{type:"number",min:1,value:l.maxAttempts||1,onChange:s=>n(a=>({...a,maxAttempts:parseInt(s.target.value)}))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Başlangıç Tarihi"}),e.jsx(u,{type:"date",value:l.startDate||"",onChange:s=>n(a=>({...a,startDate:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bitiş Tarihi"}),e.jsx(u,{type:"date",value:l.endDate||"",onChange:s=>n(a=>({...a,endDate:s.target.value}))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Sınav Ayarları"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{key:"shuffleQuestions",label:"Soruları Karıştır"},{key:"shuffleOptions",label:"Şıkları Karıştır"},{key:"showResults",label:"Sonuçları Göster"},{key:"showCorrectAnswers",label:"Doğru Cevapları Göster"}].map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l[s.key]||!1,onChange:a=>n(t=>({...t,[s.key]:a.target.checked})),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm",children:s.label})]},s.key))})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-medium",children:["Sorular (",(l.questions||[]).length,")"]}),e.jsxs(r,{size:"sm",variant:"outline",onClick:ne,children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),"Soru Ekle"]})]}),(l.questions||[]).length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8 border-2 border-dashed rounded-lg",children:'Henüz soru eklenmedi. "Soru Ekle" butonuna tıklayarak başlayın.'}):e.jsx("div",{className:"space-y-2",children:(l.questions||[]).map((s,a)=>{var t;return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[e.jsx(ve,{className:"h-4 w-4 text-muted-foreground cursor-grab"}),e.jsxs("span",{className:"text-sm font-medium w-6",children:[a+1,"."]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm truncate",children:s.text}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs px-2 py-0.5 bg-background rounded",children:(t=R.find(x=>x.value===s.type))==null?void 0:t.label}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.points," puan"]})]})]}),e.jsx("button",{onClick:()=>ie(s.id),className:"p-1.5 hover:bg-destructive/10 text-destructive rounded",children:e.jsx(K,{className:"h-4 w-4"})})]},s.id)})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t",children:[e.jsx(r,{variant:"outline",className:"flex-1",onClick:()=>j(!1),children:"İptal"}),e.jsxs(r,{className:"flex-1 gap-2",onClick:ee,children:[e.jsx(be,{className:"h-4 w-4"}),S?"Güncelle":"Oluştur"]})]})]})})})}),e.jsx(z,{children:Z&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",onClick:()=>y(!1),children:e.jsx(p.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:s=>s.stopPropagation(),className:"bg-card rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Soru Ekle"}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-muted rounded-lg",children:e.jsx(Y,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Soru Türü"}),e.jsx("select",{value:i.type,onChange:s=>m(a=>({...a,type:s.target.value,options:s.target.value==="multiple_choice"?["","","",""]:void 0})),className:"w-full px-3 py-2 border rounded-lg bg-background",children:R.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Soru Metni *"}),e.jsx("textarea",{value:i.text||"",onChange:s=>m(a=>({...a,text:s.target.value})),placeholder:"Sorunuzu yazın...",className:"w-full px-3 py-2 border rounded-lg bg-background resize-none h-24"})]}),i.type==="multiple_choice"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Seçenekler"}),e.jsx("div",{className:"space-y-2",children:(i.options||[]).map((s,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"correctAnswer",checked:i.correctAnswer===a,onChange:()=>m(t=>({...t,correctAnswer:a})),className:"w-4 h-4"}),e.jsx(u,{value:s,onChange:t=>{const x=[...i.options||[]];x[a]=t.target.value,m(h=>({...h,options:x}))},placeholder:`Seçenek ${String.fromCharCode(65+a)}`,className:"flex-1"})]},a))}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Doğru cevabı seçmek için radio butonuna tıklayın"})]}),i.type==="true_false"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Doğru Cevap"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"tfAnswer",checked:i.correctAnswer==="true",onChange:()=>m(s=>({...s,correctAnswer:"true"})),className:"w-4 h-4"}),e.jsx("span",{children:"Doğru"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"tfAnswer",checked:i.correctAnswer==="false",onChange:()=>m(s=>({...s,correctAnswer:"false"})),className:"w-4 h-4"}),e.jsx("span",{children:"Yanlış"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Puan"}),e.jsx(u,{type:"number",min:1,value:i.points||10,onChange:s=>m(a=>({...a,points:parseInt(s.target.value)}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Zorluk"}),e.jsxs("select",{value:i.difficulty,onChange:s=>m(a=>({...a,difficulty:s.target.value})),className:"w-full px-3 py-2 border rounded-lg bg-background",children:[e.jsx("option",{value:"easy",children:"Kolay"}),e.jsx("option",{value:"medium",children:"Orta"}),e.jsx("option",{value:"hard",children:"Zor"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t",children:[e.jsx(r,{variant:"outline",className:"flex-1",onClick:()=>y(!1),children:"İptal"}),e.jsxs(r,{className:"flex-1 gap-2",onClick:re,children:[e.jsx(A,{className:"h-4 w-4"}),"Soruyu Ekle"]})]})]})})})})]})}export{Ee as default};
